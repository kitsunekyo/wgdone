<app-page-title>
  <a [routerLink]="['/tasks']">Tasks</a>
  <span>Task erledigen</span>
</app-page-title>
<div class="container" *ngIf="task" style="margin-bottom: 30px;">
  <h2>{{ task.name }}</h2>
  <mat-form-field *ngIf="task.meta">
    <mat-label>{{ task.meta.select_label }}</mat-label>
    <mat-select multiple [(ngModel)]="metaSelections">
      <mat-option *ngFor="let option of task.meta.select_options" [value]="option">{{
        option
      }}</mat-option>
    </mat-select>
  </mat-form-field>
  <div>
    <button
      mat-flat-button
      color="primary"
      (click)="submit()"
      [disabled]="posting$ | async"
      class="submit-button"
    >
      Jetzt Erledigt
    </button>
  </div>
</div>

<ng-container *ngIf="activities?.length > 0">
  <div class="container">
    <h4 class="title">Letzte Eintr√§ge</h4>
  </div>
  <mat-list>
    <mat-list-item *ngFor="let activity of activities">
      <img matListAvatar [src]="activity.user.photoURL" />
      <h3 matLine>{{ activity.user.displayName }}</h3>
      <p matLine>{{ activity.timestamp.toDate() | dateAgo }}</p>
    </mat-list-item>
  </mat-list>
</ng-container>
